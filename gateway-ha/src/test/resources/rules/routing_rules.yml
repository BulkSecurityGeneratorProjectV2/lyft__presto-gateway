---
name: "airflow"
description: "if query from airflow, route to etl group"
condition: "request.getHeader(\"X-Trino-Source\") == \"airflow\""
actions:
  - "facts.put(\"routingGroup\", \"etl\")"
---
name: "airflow coco"
description: "if query from airflow with label coco, route to etl-critical group"
condition: "request.getHeader(\"X-Trino-Source\") == \"airflow\" && request.getHeader(\"X-Trino-Client-Tags\").contains(\"label=coco\")"
actions:
  - "facts.put(\"routingGroup\", \"etl-critical\")"
---
name: "mode"
description: "if query from mode, route to scheduled group"
condition: "request.getHeader(\"X-Trino-Source\") == \"mode\""
actions:
  - "facts.put(\"routingGroup\", \"scheduled\")"
